<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.svg">

  <title>How this site was built</title>
  <meta name="description" content="Modern tools can make building a website or blog quite easy and painless, especially if you&rsquo;re willing to accept the out-of-the-box templates and setup. However, when you start wanting things &ldquo;just so,&rdquo; the process becomes a little more complicated.
Technologies in Play For the live site, we have:
Github Pages Giscus That&rsquo;s it. It&rsquo;s a static site published to a Github repository with Github Pages enabled. The post comments are powered by Giscus , an application that integrates with Github Discussions on the repository." />
  <meta name="author" content="[Matthew Twomey]" />
  
  <meta name="baseurl" content="https://notes.beakstar.com/" />
  <meta name="generator" content="Hugo 0.119.0"><link
    rel="stylesheet"
    href="https://notes.beakstar.com/css/styles.min.ea5144cfb782aaa48ae88184812d619bc7ad264b347c0a2f59b300abbd97723b.css"
    integrity="sha256-6lFEz7eCqqSK6IGEgS1hm8etJks0fAovWbMAq72Xcjs="
  />
  
  

  <meta property="og:title" content="How this site was built" />
<meta property="og:description" content="Modern tools can make building a website or blog quite easy and painless, especially if you&rsquo;re willing to accept the out-of-the-box templates and setup. However, when you start wanting things &ldquo;just so,&rdquo; the process becomes a little more complicated.
Technologies in Play For the live site, we have:
Github Pages Giscus That&rsquo;s it. It&rsquo;s a static site published to a Github repository with Github Pages enabled. The post comments are powered by Giscus , an application that integrates with Github Discussions on the repository." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://notes.beakstar.com/posts/how-this-site-was-built/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-06T23:55:00-05:00" />
<meta property="article:modified_time" content="2023-10-06T23:55:00-05:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How this site was built"/>
<meta name="twitter:description" content="Modern tools can make building a website or blog quite easy and painless, especially if you&rsquo;re willing to accept the out-of-the-box templates and setup. However, when you start wanting things &ldquo;just so,&rdquo; the process becomes a little more complicated.
Technologies in Play For the live site, we have:
Github Pages Giscus That&rsquo;s it. It&rsquo;s a static site published to a Github repository with Github Pages enabled. The post comments are powered by Giscus , an application that integrates with Github Discussions on the repository."/>

  <meta itemprop="name" content="How this site was built">
<meta itemprop="description" content="Modern tools can make building a website or blog quite easy and painless, especially if you&rsquo;re willing to accept the out-of-the-box templates and setup. However, when you start wanting things &ldquo;just so,&rdquo; the process becomes a little more complicated.
Technologies in Play For the live site, we have:
Github Pages Giscus That&rsquo;s it. It&rsquo;s a static site published to a Github repository with Github Pages enabled. The post comments are powered by Giscus , an application that integrates with Github Discussions on the repository."><meta itemprop="datePublished" content="2023-10-06T23:55:00-05:00" />
<meta itemprop="dateModified" content="2023-10-06T23:55:00-05:00" />
<meta itemprop="wordCount" content="1280">
<meta itemprop="keywords" content="vim,emacs,tooling," />

  
</head>
<body class="dark:bg-zinc-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="https://notes.beakstar.com/" class="capitalize font-extrabold text-2xl">
    
    <img src="https://notes.beakstar.com//B%20Only%20512x512.webp" alt="Staying up later than I should" class="h-8 max-w-full !h-16 -mt-5 -mb-8" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="/posts">Posts</a></li>
    
    <li><a href="/page/about/">About</a></li>
    
    <li><a href="/tags">Tags</a></li>
    

    

    
    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>
    

    
    <li class="grid place-items-center">
      <span class="toggle-dark-mode inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="3" />
          <line x1="12" y1="5" x2="12" y2="5.01" />
          <line x1="17" y1="7" x2="17" y2="7.01" />
          <line x1="19" y1="12" x2="19" y2="12.01" />
          <line x1="17" y1="17" x2="17" y2="17.01" />
          <line x1="12" y1="19" x2="12" y2="19.01" />
          <line x1="7" y1="17" x2="7" y2="17.01" />
          <line x1="5" y1="12" x2="5" y2="12.01" />
          <line x1="7" y1="7" x2="7" y2="7.01" />
        </svg>
      </span>
    </li>
    
  </ul>
</header>
<main class="flex-1">
  
  

  
  <div class="relative max-w-5xl mx-auto px-4">
    <img src="https://notes.beakstar.com//ox-hugo/20231006-235531_screenshot.webp" class="rounded-lg shadow-sm w-full object-contain" />
    
    <div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
      
  
    October 6, 2023
  


    </div>
    
  </div>
  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4 max-w-screen-2xl">

    <h1 class="text-2xl font-bold mb-2">How this site was built</h1>
    
    <h5 class="text-sm flex items-center flex-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on 
  
    October 6, 2023
  


      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      7&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      1280&nbsp;words
      
    </h5>
    

    <details id="TableOfContents" class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc">
    <summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white">
      <span>Table of contents</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <polyline points="6 9 12 15 18 9"></polyline>
     </svg>
    </summary>

    <ul class="mt-2 pb-4">
        

        
        <li>
        <a href="#technologies-in-play">Technologies in Play</a>
        

        
        </li><li>
        <a href="#where-things-got-a-little-tricky">Where things got a little tricky</a>
        

        
        <ul>
            <li>
        <a href="#the-hugo-theme">The Hugo Theme</a>
        

        
        </li><li>
        <a href="#getting-github-pages-established-correctly">Getting Github Pages Established Correctly</a>
        

        
        </li><li>
        <a href="#the-giscus-comment-system-theme">The Giscus Comment System Theme</a>
        

        
        </li></ul>
      </li><li>
        <a href="#perfecting-the-org-mode-fully-published-workflow">Perfecting the Org-mode -&gt; &ldquo;fully published&rdquo; Workflow</a>
        

        
        <ul>
            <li>
        <a href="#reducing-image-sizes">Reducing image sizes</a>
        

        
        </li><li>
        <a href="#making-sure-the-site-works-the-same-locally--hugo-serve--and-in-production">Making sure the site works the same locally (<code>hugo serve</code>) and in production</a>
        

        
        </li><li>
        <a href="#creating-a-yasnippet-for-new-articles">Creating a yasnippet for new articles</a>
        

        
        </li><li>
        <a href="#making-publishing-easy-and-tracking-my-changes">Making publishing easy and tracking my changes</a>
        </li></ul>
    </li></ul>
  </details>

    <p>Modern tools can make building a website or blog quite easy and painless, especially if you&rsquo;re willing to accept the out-of-the-box templates and setup. However, when you start wanting things &ldquo;just so,&rdquo; the process becomes a little more complicated.</p>
<h2 id="technologies-in-play">Technologies in Play</h2>
<p>For the live site, we have:</p>
<ul>
<li>Github Pages</li>
<li>Giscus</li>
</ul>
<p>That&rsquo;s it. It&rsquo;s a static site published to a Github repository with Github Pages enabled. The post comments are powered by <a href="https://giscus.app/" target="_blank" rel="noopener">Giscus</a>
, an application that integrates with Github Discussions on the repository. These comments are essentially messages within the repository&rsquo;s discussion section.</p>
<p>Now, let&rsquo;s discuss how we obtain the static pages that are published:</p>
<ul>
<li>Emacs org-mode</li>
<li>ox-hugo</li>
<li>Hugo</li>
</ul>
<p>I create and edit the site content using <a href="https://www.gnu.org/software/emacs/" target="_blank" rel="noopener">Emacs</a>
 <a href="https://orgmode.org/" target="_blank" rel="noopener">org-mode</a>
. While this might not be the most common approach, it&rsquo;s common enough to have a range of excellent supporting tools. Ultimately, the goal in editing is to convert the content into markdown (.md) files for <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>
. Hugo processes these files and generates the static content for the site. <a href="https://ox-hugo.scripter.co/" target="_blank" rel="noopener">Ox-hugo</a>
 serves as an org-mode &ldquo;exporter backend&rdquo; specifically designed for seamlessly transferring org-mode content to Hugo for site generation, which is precisely what I&rsquo;m doing here.</p>
<h2 id="where-things-got-a-little-tricky">Where things got a little tricky</h2>
<h3 id="the-hugo-theme">The Hugo Theme</h3>
<p>Hugo is designed to work with themes and is intended to facilitate the creation, sharing, and distribution of themes. There are many good free and paid themes available to choose from. I tried several different themes and finally settled on the <a href="https://github.com/apvarun/blist-hugo-theme" target="_blank" rel="noopener">blist</a>
 theme. It had a clean look that appealed to me and appeared to be quite easy to customize. Additionally, it includes a full &ldquo;demo site&rdquo; you can launch right from the theme itself (see the README).</p>
<p>This demo site turned out to be crucial for me, as I was new to Hugo. Hugo looks to a main configuration file where you define options for Hugo as well as custom options to be interpreted by the theme you are using. Each theme does this differently, making it challenging to understand what can be customized and which variables to set for tweaks. This demo site includes a well-structured Hugo config file with all the main customizations for the theme. Studying it a bit teaches you how to create your own customized site.</p>
<p>That being said, even with all that customizability, it turned out that there were still things I wanted to change and tweak that weren&rsquo;t supported by the theme. This meant that I had to actually learn Hugo and how its templating engine worked, which took some time. Armed with this knowledge, I was able to start adding new variables to the theme itself and setting their corresponding values in the Hugo config. Figuring out how to create new &ldquo;hooks&rdquo; in the theme for Hugo and working with how the theme used Sass-compiled CSS took a late night of digging. It was fun to learn and worth the effort, but I just hadn&rsquo;t anticipated this.</p>
<p>Once I was up to speed on all this, I was able to achieve the desired look.</p>
<h3 id="getting-github-pages-established-correctly">Getting Github Pages Established Correctly</h3>
<p>This wasn&rsquo;t particularly hard, but it wasn&rsquo;t immediately obvious where things should be and how to get started. The documentation for Github Pages is good, but there is a lot of information out there, and the first time through, I found it a bit tricky to know where to start. See <a href="/posts/where-are-my-github-pages/">Where are my Github Pages?</a>
.</p>
<p>I had a couple of restarts during this process. I deleted and re-created the repository with a different name (twice), changed the DNS name, and moved the site from residing under a &ldquo;prefix&rdquo; in the URL to residing at the &ldquo;root&rdquo; of a custom domain, among other things. It was only after I initially got the site up that I started thinking about longevity, search-friendly URLs, SEO, etc. I would have saved some time if I had thought this through beforehand.</p>
<h3 id="the-giscus-comment-system-theme">The Giscus Comment System Theme</h3>
<p>This is a great comment system that&rsquo;s free to use and piggybacks on Github&rsquo;s <em>discussion</em> feature. It is also themable, but you might not be able to match it to your layout and color scheme exactly using only the provided customization options. Ultimately, I had to create my own theme file to get it to integrate properly with the rest of my site.</p>
<h2 id="perfecting-the-org-mode-fully-published-workflow">Perfecting the Org-mode -&gt; &ldquo;fully published&rdquo; Workflow</h2>
<p>Once all the above items were working, I turned my attention to getting text written in org-mode onto the site as quickly as possible. Ox-hugo really does take care of the bulk of the work for me here, but there were still a couple of things to be done.</p>
<h3 id="reducing-image-sizes">Reducing image sizes</h3>
<p>When taking notes or writing in org-mode, I tend to use screenshots when I need an image. It&rsquo;s very quick on a mac to grab an area of the screen onto your clipboard (<code>CMD-CTRL-SHIFT-4</code>) and then paste it right into your org-mode document (with <a href="https://melpa.org/#/org-download" target="_blank" rel="noopener">org-download</a>
 installed). This relies on <code>pngpaste</code> <a href="https://zzamboni.org/post/how-to-insert-screenshots-in-org-documents-on-macos/" target="_blank" rel="noopener">behind the scenes</a>
. The issue is that PNGs can be pretty big and I want smaller image file sizes for a static website.</p>
<p>To make this seamless, I wrote a script that converts all the PNGs in the image directory into WebP format. I then created <em>after advice</em> on the org-mode export function to automatically run this script each time I export.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#8be9fd;font-style:italic">defun</span> <span style="color:#8be9fd;font-style:italic">convert-notes-images</span> (<span style="color:#ff79c6">&amp;rest</span> <span style="color:#8be9fd;font-style:italic">_</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#50fa7b">message</span> <span style="color:#f1fa8c">&#34;Calling convert-images.bb (this is :after advice on org-hugo-export-to-md)&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#50fa7b">call-process</span> <span style="color:#f1fa8c">&#34;~/org-mode/notes/scripts/convert-images.bb&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#8be9fd;font-style:italic">advice-add</span> <span style="color:#50fa7b">#&#39;</span><span style="color:#8be9fd;font-style:italic">org-hugo-export-to-md</span> <span style="color:#8be9fd;font-style:italic">:after</span> <span style="color:#50fa7b">#&#39;</span><span style="color:#8be9fd;font-style:italic">convert-notes-images</span>)
</span></span></code></pre></div><p>I&rsquo;m not actually resizing the images pixel-wise, but this typically results in a 10x + reduction in file size, which is plenty.</p>
<h3 id="making-sure-the-site-works-the-same-locally--hugo-serve--and-in-production">Making sure the site works the same locally (<code>hugo serve</code>) and in production</h3>
<p>Special care had to be taken with a few things to make sure I could use Hugo&rsquo;s built in &ldquo;local server&rdquo; to view the site and then also publish it to Github Pages. This will vary depending on your setup, but in my case:</p>
<ul>
<li>The <code>baseurl</code> in Hugo&rsquo;s toml config file <em>had to</em> end with a trailing slash (this relates to my custom Giscus theme)</li>
<li>Cross-origin headers had to be setup for the local Hugo server (again related to how Giscus works)</li>
</ul>
<!--listend-->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[server]
</span></span><span style="display:flex;"><span>[[server.headers]]
</span></span><span style="display:flex;"><span>    for = <span style="color:#f1fa8c">&#39;/**&#39;</span>
</span></span><span style="display:flex;"><span>    [server.headers.values]
</span></span><span style="display:flex;"><span>    Access-Control-Allow-Origin = <span style="color:#f1fa8c">&#34;*&#34;</span>
</span></span></code></pre></div><h3 id="creating-a-yasnippet-for-new-articles">Creating a yasnippet for new articles</h3>
<p>To make the process of adding a new article as fast as possible, I created a <a href="https://github.com/joaotavora/yasnippet" target="_blank" rel="noopener">yassnippet</a>
 to setup new org files destined to be articles:</p>
<pre tabindex="0"><code class="language-snippet" data-lang="snippet"># key: %org-hugo-blog
# name: org-hugo-blog
# --
#+TITLE: ${1:title}
#+AUTHOR: Matthew Twomey
#+DATE: &lt;`(format-time-string &#34;%Y-%m-%d %a %H:%M&#34;)`&gt;
:properties:
#+HUGO_TAGS: vim emacs tooling
#+HUGO_CUSTOM_FRONT_MATTER: :thumbnail /ox-hugo/20231001-161017_screenshot.png
#+HUGO_CUSTOM_FRONT_MATTER: :toc false
:end:

$0
</code></pre><p>With this, opening a new file and a couple of key-strokes and I&rsquo;m writing.</p>
<h3 id="making-publishing-easy-and-tracking-my-changes">Making publishing easy and tracking my changes</h3>
<p>The final step was to make sure I could publish to Github Pages quickly and easily. I wrote a script to take care of this. It does a little bit of pre-publication cleanup, runs the Hugo site generation, commits the changes, then pushes to Github. From there, a Github Action takes things the rest of the way and any changes, additions, or updates are live in a minute or two.</p>
<p>I track changes to the <em>source files</em> for the site with git. In the end, there are three different git repos involved:</p>
<ol>
<li>My content source (consisting of org-mode files, markdown files generated by ox-hugo, images, assets, ..etc)</li>
<li>The <code>public</code> directory which is the target directory that Hugo builds the static site into (this is what gets pushed to the Github Pages repo)</li>
<li>The theme (the theme I&rsquo;m using is cloned from git, with my modifications in a different branch so I can pull and merge any updates from the author)</li>
</ol>

  </article>
<div class="px-2 mb-2">
  
  <script src="https://giscus.app/client.js"
    data-repo="mtwomey/notes"
    data-repo-id="R_kgDOKbOpXQ"
    data-category="Announcements"
    data-category-id="DIC_kwDOKbOpXc4CZ38C"
    data-mapping="og:title"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="https://notes.beakstar.com/giscus-theme.css"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  
</div>

<div class="bg-blue-100 dark:bg-zinc-900">
  <div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
    <div>
      <div class="text-2xl font-bold mb-2"></div>
      <p class="opacity-60"></p>
    </div>

    <ul class="flex justify-center gap-x-3 flex-wrap gap-y-2">
      
    </ul>
  </div>
</div>

    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2023 - Matthew Twomey · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-zinc-900 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="https://notes.beakstar.com/js/scripts.min.js"></script>







<script>
  
  const darkmode = document.querySelector('.toggle-dark-mode');
  function toggleDarkMode() {
    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('darkmode', 'light')
    } else {
      document.documentElement.classList.add('dark')
      localStorage.setItem('darkmode', 'dark')
    }
  }
  if (darkmode) {
    darkmode.addEventListener('click', toggleDarkMode);
  }

  const darkStorage = localStorage.getItem('darkmode');
  const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (!darkStorage && isBrowserDark) {
    document.documentElement.classList.add('dark');
  }

  if (darkStorage && darkStorage === 'dark') {
    toggleDarkMode();
  }
</script>


<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
